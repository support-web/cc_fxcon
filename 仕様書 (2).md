# FX学習コンテンツサイト（スマホアプリ風Web）仕様書（MVP / 最短公開版）
作成日: 2025-12-12  
版: v1.0（MVP）

---

## 0. 本仕様書の目的
本仕様書は、生成AI（開発支援AI / コーディングAI）に投入し、**最短で公開可能なスマホメインの「アプリ風」FX学習コンテンツサイト**を構築するための要件・画面・実装方針を定義する。

- App Store/Google Play には公開しない
- ブラウザ閲覧を基本としつつ、**PWA（ホーム画面追加）**でアプリ風体験を提供する
- 集客はSNSを主導線とし、サイト内で学習・クイズ・用語確認を回し、口座開設（自社/アフィ）へ誘導する

---

## 1. ゴール（KGI）
1. SNS → サイト流入の最大化（CTR/滞在）
2. 学習完了 → 次回再訪（継続）
3. 口座開設導線（自社サービス誘導またはアフィ成約）

### 1.1 成功指標（初期KPI）
- SNS別：リンククリック率、LP到達数
- サイト：レッスン完了率、クイズ完了率、次レッスン遷移率
- CV：口座開設ボタンCTR、口座開設CV（計測できる範囲で）

---

## 2. 想定ユーザー（潜在層）
- FX未経験〜薄知識層（主婦、学生、シニア等）
- 「難しい用語・チャート分析」よりも、生活に紐づく理解と“損しない基礎”を求める
- スマホ閲覧が中心、短時間で読み切れる/学べる体験が必要

---

## 3. スコープ（MVP）
### 3.1 MVPで実装する
- **学習コース（レッスン）**：10本（1本=1〜3分で読める）
- **3問ミニクイズ**：各レッスンに紐づく（計10セット）
- **用語辞典**：30語（検索・カテゴリ）
- **進捗管理（匿名）**：端末内（LocalStorage）に保存（ログイン無し）
- **アプリ風UI**：下部タブナビ、カードUI、状態保持（最低限）
- **PWA**：manifest + service worker（基本キャッシュ）
- **SNSシェア**：OGP設定、クイズ結果シェア（テキスト/リンク）
- **コンプラ表示**：リスク説明、免責、運営者情報、問い合わせ

### 3.2 MVPでは実装しない（後続）
- 会員登録/ログイン、サーバ側の進捗同期
- ポイント還元（景品・インセンティブ設計）
- 高度な通知（Web Push等）
- コミュニティ、コメント、掲示板
- チャート分析ツールや自動売買機能

---

## 4. 体験設計（ユーザーフロー）
### 4.1 基本フロー（SNS→学習→誘導）
1. SNS投稿（生活×為替/初心者の地雷回避/用語1個）
2. リンクから「1分レッスン」へ到達
3. レッスン最後に **3問クイズ**
4. 結果画面で次アクション
   - 次のレッスンへ
   - 用語辞典で復習
   - 口座開設（自社/アフィ）導線（押し付けずに提示）

### 4.2 タブ構成（アプリ風）
- 学ぶ（/learn）
- クイズ（/quiz）
- 用語（/glossary）
- マイ（/me）

---

## 5. 情報設計（サイトマップ / URL）
- /（ホーム）
- /learn（学習コース一覧）
- /learn/{lesson-slug}（レッスン詳細）
- /quiz（クイズ一覧 / 進捗順）
- /quiz/{lesson-slug}（該当レッスンのクイズ）
- /glossary（用語一覧・検索）
- /glossary/{term-slug}（用語詳細）
- /me（進捗・バッジ・履歴）
- /about（運営者情報）
- /disclaimer（免責・リスク説明）
- /contact（問い合わせ）
- /privacy（プライバシーポリシー）

---

## 6. 画面仕様（MVP）
### 6.1 ホーム（/）
**目的**：直近の学習継続を促す、SNS流入の受け皿

要素：
- ヒーロー：サイトの一言（例「1分でわかるFXの基礎」）
- 「続きから」カード（直近未完了レッスン）
- 「今日の1分」おすすめレッスン（固定またはランダム）
- 「学ぶ」「クイズ」「用語」への導線カード
- 口座開設導線（弱）：バナー1つ（最下部）

### 6.2 学ぶ一覧（/learn）
要素：
- コース（章）フィルタ：基礎 / コスト / リスク / 始め方
- レッスンカード：タイトル、所要時間、完了状態（未/済）
- ソート：おすすめ / 新着 / 完了済みを下へ

### 6.3 レッスン詳細（/learn/{slug}）
要素：
- タイトル、所要時間、更新日
- 本文（図解中心、見出し2〜3つまで）
- 重要ポイント（箇条書き3点）
- CTA（次へ）
  - 「3問クイズへ」ボタン（主）
  - 「関連用語」リンク
- フッターに弱い導線：口座開設（自社/アフィ）

動作：
- レッスンを最下部までスクロールで「読了」扱い（もしくは「完了」ボタン）
- 読了したらLocalStorageへ保存

### 6.4 クイズ（/quiz/{lesson-slug}）
形式：3問・選択式

要素：
- Q1〜Q3の進捗表示
- 選択肢（2〜4択）
- 回答後：正誤と短い解説
- 結果画面：正答数、復習リンク、次レッスンリンク、シェアリンク

保存：
- 正答数、解答履歴をLocalStorageへ保存
- クイズ全問完了で「クイズ完了」扱い

### 6.5 用語一覧（/glossary）
要素：
- 検索（インクリメンタル）
- カテゴリ（例：基礎/取引/リスク/指標）
- 用語カード：用語 + ひとこと説明

### 6.6 用語詳細（/glossary/{term-slug}）
要素：
- 用語（見出し）
- 1行定義（最重要）
- 例え（生活に寄せる）
- よくある誤解
- 関連レッスンリンク

### 6.7 マイページ（/me）
要素：
- 進捗：完了レッスン数 / クイズ完了数
- バッジ（MVPは3種程度）
  - はじめの一歩（レッスン1本完了）
  - 基礎クリア（レッスン5本完了）
  - 安全運転（リスク章完了）
- 履歴：最近見たレッスン3件
- 「ホーム画面に追加」ガイド（iOS向け含む）

---

## 7. コンテンツ仕様（テンプレ）
### 7.1 レッスンの構造（推奨）
- 導入（共感/生活フック）: 2〜3行
- 結論: 1行
- 図解（または例）
- 注意点（リスク・誤解）
- まとめ（3点）
- クイズへの誘導

### 7.2 レッスン数（MVP）
- 10本（タイトル案は付録参照）

### 7.3 用語数（MVP）
- 30語（カテゴリ付け）

---

## 8. コンプライアンス / 表現ガイド（必須）
- 「必ず儲かる」「簡単に稼げる」「放置で増える」等の断定・誤認誘導表現は禁止
- リスク（元本超過損失の可能性、レバレッジ、ロスカット等）を分かりやすく表示
- 投資助言ではない旨、最終判断は利用者である旨を免責に明記
- 口座開設誘導は「学習の次の選択肢」として提示し、過度に煽らない

（※法務・コンプラレビュー前提。MVPでは最低限の表示を実装し、後続でチェックリストを拡充。）

---

## 9. 技術方式（MVP / 最短公開）
### 9.1 前提
- 既存の運用知見を活かし **WordPressで最短構築**する
- “アプリ風UI”は **軽量なテーマ + 子テーマ/独自プラグイン（最小JS）**で実装
- 将来のヘッドレス化/Next.js化を妨げないよう、コンテンツはCPTで整理する

### 9.2 技術スタック（推奨）
- WordPress（最新版）
- PHP 8.x
- テーマ：軽量テーマ + 子テーマ（または独自最小テーマ）
- カスタムフィールド：ACF（またはmeta boxを自作）
- PWA：PWA対応プラグイン（manifest + service worker）
- キャッシュ：ホスティング/CDN優先（必要に応じてキャッシュプラグイン）

### 9.3 実装物（コード）
- 子テーマ：
  - 固定下部タブナビ（全ページ共通）
  - カードUI/タイポグラフィの基本CSS
  - テンプレート（learn, quiz, glossary, me）
- 独自プラグイン（推奨）：`fx-learning-mvp`
  - CPT登録（lesson, glossary）
  - クイズデータの管理（post metaにJSON保存）
  - ショートコード/ブロック：`[fx_quiz lesson="slug"]`
  - REST API（任意）：用語検索用エンドポイント
  - フロントJS/CSSのenqueue

---

## 10. データモデル（WordPress）
### 10.1 CPT
#### lesson（レッスン）
- title（WP標準）
- content（本文）
- meta:
  - reading_time（数値、分）
  - lesson_category（基礎/コスト/リスク/始め方 など）
  - key_points（配列：3点）
  - related_terms（用語ID配列）
  - quiz_json（JSON：設問配列）

#### glossary（用語）
- title（用語）
- content（詳細）
- meta:
  - one_line_definition（1行定義）
  - analogy（例え）
  - misconceptions（よくある誤解）
  - glossary_category（基礎/取引/リスク/指標）
  - related_lessons（lesson ID配列）

### 10.2 LocalStorage（匿名進捗）
キー命名：`fx_mvp_*`
- `fx_mvp_progress`：
  - completed_lessons: string[]（lesson slug）
  - completed_quizzes: string[]（lesson slug）
  - last_lesson: string（slug）
  - last_seen: string[]（slug、最大10）
  - quiz_scores: { [slug]: { score: number, answeredAt: ISO } }

---

## 11. UI/デザイン要件（モバイルファースト）
- 画面幅：360pxを最小想定（iPhone SE相当）
- 余白：16px基準
- フォント：読みやすさ最優先（シニア配慮：行間広め）
- 下部タブ：安全領域（iOSのhome indicator）を考慮
- カードUI：タップ領域 44px以上
- ダークモード：MVPでは任意（実装できれば対応）

---

## 12. PWA要件（MVP）
- manifest（アプリ名、短縮名、アイコン、start_url、display=standalone）
- service worker
  - キャッシュ対象：CSS/JS/アイコン/トップ/learn一覧
  - ネットワーク優先：レッスン本文（更新反映を優先）
- マイページに「ホーム画面追加」案内（iOS/Android）

---

## 13. SEO / SNS要件（MVP）
- 全ページ：title, meta description
- OGP：og:title, og:description, og:image, og:url
- Twitter card：summary_large_image
- 構造化データ：FAQ（任意、後続で可）
- XMLサイトマップ（WP標準またはプラグイン）
- レッスンのcanonical設定（重複回避）

---

## 14. 計測（Analytics）
- GA4（推奨）または代替計測
- イベント設計（必須）
  - lesson_view（lesson slug）
  - lesson_complete（lesson slug）
  - quiz_start（lesson slug）
  - quiz_complete（lesson slug, score）
  - cta_open_account_click（placement: lesson_footer / home_banner 等）
- Search Console連携

---

## 15. 口座開設導線（MVP）
### 15.1 配置（強弱）
- ホーム最下部：弱いバナー1つ
- レッスン末尾：テキスト＋ボタン（「口座開設を検討する」）
- クイズ結果：学習が進んだ人向けに表示（正答数2以上等の条件付きでも可）

### 15.2 トラッキング
- クリックは必ずイベント計測
- アフィリエイトの場合、計測パラメータ付与

---

## 16. 実装手順（開発タスク）
### 16.1 環境
- ステージング（推奨）→本番
- HTTPS有効化

### 16.2 WordPressセットアップ
1. WPインストール
2. 固定ページ作成（/ /learn /quiz /glossary /me /about /disclaimer /contact /privacy）
3. CPT（lesson, glossary）登録（プラグイン）
4. ACF（またはmeta）でフィールド作成
5. PWAプラグイン導入（manifest & SW）

### 16.3 テーマ/子テーマ
- 下部タブナビを全テンプレに表示
- learn一覧/詳細テンプレ
- quizテンプレ（JSでレンダリング）
- glossary一覧/詳細テンプレ
- meページ（LocalStorageの表示）

### 16.4 クイズ機能（独自プラグイン）
- 管理画面：レッスン編集画面に quiz_json 入力UI（簡易：テキストエリアにJSON）
- フロント：ショートコードで埋め込み → JSで表示・採点
- 結果画面：スコア保存、復習導線表示

---

## 17. 受け入れ基準（Definition of Done）
- iPhone/Androidの主要ブラウザでレイアウトが崩れない
- 下部タブで主要画面へ移動できる
- レッスンが10本表示され、詳細が閲覧できる
- 各レッスンに3問クイズがあり、正誤判定と解説が出る
- 進捗がLocalStorageに保存され、再訪しても残る
- OGPが設定されSNSでカード表示される
- 免責/リスク説明/運営者情報/問い合わせ/プライバシーがサイト内に存在する
- 口座開設CTAが所定箇所にあり、クリック計測される
- PWAとしてホーム画面追加が可能（少なくともmanifestが正しく、Androidで“インストール”導線が出る）

---

## 18. テスト観点（MVP）
- 表示：iPhone SE相当、iPhone 14/15相当、Android一般機
- 操作：タブ操作、戻る操作、スクロール位置
- 進捗：レッスン完了→マイページ反映、再訪保持
- クイズ：全問回答、途中離脱→再開（MVPは再開任意）
- OGP：主要SNS（X/Instagram/LINE）でのカード確認
- パフォーマンス：画像の重さ、初回表示速度

---

## 19. 付録：MVPコンテンツ（例）
### 19.1 レッスン10本（タイトル案）
1. FXってなに？「円を外貨に替える」だけで理解する
2. 円安・円高で生活はどう変わる？（食費/旅行/電気代）
3. 利益と損失はどう決まる？pipsの超入門
4. レバレッジって危ないの？「テコ」の話
5. ロスカットとは？事故を防ぐ安全装置
6. スプレッドは“見えない手数料”
7. スワップポイントの仕組み（得も損もある）
8. ニュースはどれを見ればいい？（金利・雇用・物価）
9. 少額で始める前に確認する3つ（資金/時間/ルール）
10. 口座開設前チェックリスト（自分に向くか判断）

### 19.2 クイズJSON例（lesson meta: quiz_json）
```json
[
  {
    "q": "円安になると、一般的に輸入品の価格はどうなりやすい？",
    "choices": ["安くなりやすい", "高くなりやすい", "変わらない"],
    "answerIndex": 1,
    "explain": "円の価値が下がると、同じ外貨を買うのにより多くの円が必要になり、輸入品は高くなりやすい。"
  },
  {
    "q": "スプレッドは何に近い？",
    "choices": ["税金", "見えない取引コスト", "利息"],
    "answerIndex": 1,
    "explain": "売値と買値の差で、実質的な取引コスト。"
  },
  {
    "q": "レバレッジが高いほど起こりやすいことは？",
    "choices": ["損益の振れ幅が小さくなる", "損益の振れ幅が大きくなる", "必ず利益が出る"],
    "answerIndex": 1,
    "explain": "少ない証拠金で大きな取引をするため、損益の振れ幅も増える。"
  }
]
```

---

## 20. 生成AIへの実装指示（重要）
以下を順守して実装すること：
- WordPressプラグイン `fx-learning-mvp` を作成し、CPT/メタ/ショートコード/JSを提供する
- 子テーマで下部タブと主要テンプレート（learn/quiz/glossary/me）を実装する
- 進捗はMVPではLocalStorageに保存（DB同期はしない）
- PWAはmanifestとservice workerを有効化し、最低限のキャッシュ戦略を実装する
- 免責/リスク説明ページを必ず設置し、全ページフッターからアクセス可能にする
- 口座開設CTAは所定箇所に配置し、クリックイベントを計測する（GA4想定）

以上。
